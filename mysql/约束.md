在关系数据库中，约束（Constraint）是用来定义和强制数据库表中数据规则的规范。约束可以保证数据的完整性、一致性和有效性，确保数据在插入、更新和删除操作时满足预期的条件。常见的数据库约束包括以下几种类型：

### 1. **主键约束（Primary Key Constraint）**

主键约束用于唯一标识表中的每一行数据，并且保证每个主键值都是唯一的，不允许为空。主键约束可以跨一个或多个列定义。

sql

复制代码

`CREATE TABLE Students (     StudentID INT PRIMARY KEY,     Name VARCHAR(50),     Age INT );`

### 2. **唯一约束（Unique Constraint）**

唯一约束确保表中的某列或多列的值是唯一的，但允许空值。一个表可以有多个唯一约束。

sql

复制代码

`CREATE TABLE Employees (     EmployeeID INT UNIQUE,     FirstName VARCHAR(50),     LastName VARCHAR(50) );`

### 3. **非空约束（NOT NULL Constraint）**

非空约束确保表中的某列不接受空值。当试图插入空值时，数据库会抛出错误。

sql

复制代码

`CREATE TABLE Products (     ProductID INT PRIMARY KEY,     ProductName VARCHAR(100) NOT NULL,     Price DECIMAL(10, 2) NOT NULL );`

### 4. **检查约束（Check Constraint）**

检查约束定义在列级别的条件，确保插入或更新的值符合指定的条件。

sql

复制代码

`CREATE TABLE Orders (     OrderID INT PRIMARY KEY,     OrderDate DATE,     TotalAmount DECIMAL(10, 2),     CONSTRAINT CHK_OrderAmount CHECK (TotalAmount > 0) );`

### 5. **外键约束（Foreign Key Constraint）**

外键约束用于定义两个表之间的引用完整性，确保引用表（子表）中的外键值必须存在于主表的主键中。

sql

复制代码

`CREATE TABLE Orders (     OrderID INT PRIMARY KEY,     CustomerID INT,     OrderDate DATE,     CONSTRAINT FK_CustomerID FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID) );`

### 6. **默认约束（Default Constraint）**

默认约束用于在插入新行时为列指定默认值，如果未提供值，则自动使用默认值。

sql

复制代码

`CREATE TABLE Employees (     EmployeeID INT PRIMARY KEY,     FirstName VARCHAR(50),     LastName VARCHAR(50),     Gender CHAR(1) DEFAULT 'M' );`

### 约束的优势和使用场景

- **数据完整性**：约束确保数据库中的数据始终处于一致和有效的状态。
- **简化数据验证**：通过约束，可以减少在应用程序层面进行数据验证的复杂性和开销。
- **提高性能**：数据库可以利用约束来优化查询和数据操作的执行计划。
- **规范数据操作**：约束定义了数据应该如何被操作，帮助维护和管理数据的一致性。

### 总结

约束是数据库设计中重要的组成部分，通过约束可以定义和实施数据规则，保证数据在各种操作下的正确性和有效性。合理设计和应用约束是数据库管理和开发中的关键一步，有助于构建高效、稳定和可靠的数据库系统。

在 sc 表的课号列建立外键约束 fk_cno，参照 course 表的课号列的取值，要求实 现级联更新。
alter table sc add constraint fk_cno
foreign key(course_id)
references course(course_id);



![[Pasted image 20240621133645.png]]